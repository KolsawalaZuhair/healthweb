<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Health Chatbot — CareBridge</title>
  <link rel="stylesheet" href="static/styles.css">
  <style>
    body {font-family: Inter, sans-serif; margin:0; padding:0; background:#0f172a; color:#e2e8f0; display:flex; flex-direction:column; height:100vh;}
    .container{flex:1; display:flex; flex-direction:column; max-width:800px; margin:0 auto; padding:20px; width:100%;}
    h1{font-size:28px; margin-bottom:10px;}
    .chatbox{flex:1; background:#111827; border-radius:12px; padding:20px; overflow-y:auto; box-shadow:0 4px 12px rgba(0,0,0,.4);}
    .msg{margin:8px 0; padding:10px 14px; border-radius:10px; max-width:70%;}
    .user{background:#2563eb; align-self:flex-end;}
    .bot{background:#374151; align-self:flex-start;}
    form{display:flex; margin-top:10px;}
    input{flex:1; padding:10px; border:none; border-radius:10px; margin-right:8px; background:#0b1229; color:#e2e8f0;}
    button{background:#2563eb; color:white; border:none; padding:10px 16px; border-radius:10px; cursor:pointer;}
    button:hover{background:#1e40af;}
    nav a{color:#94a3b8; margin-bottom:10px; display:inline-block; text-decoration:none;}
    nav a:hover{color:white;}
  </style>
</head>
<body>
  <div class="container">
    <nav>
      <a href="index.html">← Back Home</a>
    </nav>
    <h1>Health Chatbot</h1>
    <div class="chatbox" id="chatbox">
      <div class="msg bot">Hello! I’m your health assistant. How can I help you today?</div>
    </div>

    <form id="chatForm" method="POST" action="/api/chat">
      <input type="text" id="userInput" name="message" placeholder="Type your message..." required />
      <button type="submit">Send</button>
    </form>
  </div>

  <script>
    const form = document.getElementById('chatForm');
    const input = document.getElementById('userInput');
    const chatbox = document.getElementById('chatbox');

    function addMessage(text, sender){
      const div = document.createElement('div');
      div.className = 'msg ' + sender;
      div.textContent = text;
      chatbox.appendChild(div);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    form.addEventListener('submit', function(e){
      e.preventDefault();
      const msg = input.value.trim();
      if(!msg) return;
      addMessage(msg, 'user');
      input.value = '';

      // Demo bot reply
      setTimeout(()=>{
        addMessage("[Demo] This is a helpful response to: " + msg, 'bot');
      }, 600);
    });
  </script>
</body>
</html>